import{__assign,__extends}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./Coin.css";import*as React from"react";import{Tooltip}from"../../TooltipEx";import{css,KeyCode}from"../../Util";import{getColorString}from"../../Utilities/Color";import{getInitialsColorFromName,getInitialsFromName}from"./Coin.Initials";var Coin=function(t){function e(e){var o=t.call(this,e)||this;return o.onImageError=function(e){o.setState({imageError:!0})},o.onLoad=function(e){o.setState({imageLoaded:!0})},o.handleKeyDown=function(e){e.keyCode!==KeyCode.enter&&e.keyCode!==KeyCode.space||o.props.onClick&&o.props.onClick()},o.state={imageError:!1,imageLoaded:!1},o}return __extends(e,t),e.prototype.render=function(){var e=this.props,o=e.ariaLabel,t=e.className,a=e.displayName,i=e.principalName,r=e.dataIsFocusable,n=e.onClick,s=e.isTabStop,l=e.imgAltText,l=void 0===l?"":l,m=e.imageUrl,c=e.role,p=e.size,e=e.tooltipProps,p="size"+p,i=i||a,d={},r=(r&&(d["data-is-focusable"]=!0),s&&(d.tabIndex=0),d["aria-label"]=void 0!==o?o:i,n&&(d.onKeyDown=this.handleKeyDown,d.onClick=n,d.role="button"),"presentation"===c&&(d.role="presentation",d["aria-label"]=""),getInitialsColorFromName(a)),s=React.createElement("div",{className:css("bolt-coin-content",p),style:r&&{background:getColorString(r)}},React.createElement("span",null,getInitialsFromName(a))),o=void 0===m||this.state.imageError?s:React.createElement(React.Fragment,null,React.createElement("img",{className:css("bolt-coin-content using-image",p,!this.state.imageLoaded&&"pending-load-image"),src:m,alt:"presentation"===c?"":l,onError:this.onImageError,onLoad:this.onLoad})),r=React.createElement("div",__assign({className:css("bolt-coin flex-noshrink",t,p,n&&"cursor-pointer")},d),o);return null!==e?React.createElement(Tooltip,__assign({text:i,showOnFocus:!0},e),r):r},e}(React.Component);export{Coin};